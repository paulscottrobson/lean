// ******************************************************************************
// ******************************************************************************
//
//		Name : 		loadsave.def
//		Purpose : 	Load constants, Load and Save to memory
//		Author : 	Paul Robson (paul@robsons.org.uk)
//		Created : 	28th October 2019
//
// ******************************************************************************
// ******************************************************************************

// ******************************************************************************
//
//								Short forms of R=x
//
// ******************************************************************************

BW	 	<const>
			lda 	#<low>
			ldx 	#<high>

S 		<var>
			lda 	<addr>
			ldx 	#0

I 		<var>
			lda 	<addr>
			ldx 	<next>

// ******************************************************************************
//
//							Load Registers (Constants)
//
// ******************************************************************************

BW 		R = <const>
			lda 	#<low>
			ldx 	#<high>

B 		A = <const>
			lda 	#<low>

B 		Y = <const>
			ldy 	#<low>

// ******************************************************************************
//
// 								Load Registers (Direct)
//
// ******************************************************************************

I 		R = <var>
			lda 	<addr>
			ldx 	<next>

S 		R = <var>
			lda 	<addr>
			ldx 	#0

S 		A = <var>
			lda 	<addr>

S 		Y = <var>				
			ldy 	<addr>

// ******************************************************************************
//
// 								Store Registers (Direct)
//
// ******************************************************************************

I 		<var> = R
			sta 	<addr>
			stx 	<next>

S 		<var> = R
			sta 	<addr>

S 		<var> = A
			sta 	<addr>

S 		<var> = Y				
			sty 	<addr>

// ******************************************************************************
//
//							Load Registers (indirect)
//
// ******************************************************************************

I		A = <var>[y]
			lda 	(<addr>& $FF),y

I		R = <var>[y]			
			iny
			lda 	(<addr>& $FF),y
			tax
			dey
			lda 	(<addr>& $FF),y

// ******************************************************************************
//
//							Save Registers (indirect)
//
// ******************************************************************************

I 		<var>[y] = A
			sta 	(<addr>& $FF),y

I 		<var>[y] = R
			sta 	(<addr>& $FF),y
			iny
			txa
			sta 	(<addr>& $FF),y
			dey
			lda 	(<addr>& $FF),y
								