// ******************************************************************************
// ******************************************************************************
//
//		Name : 		and.def
//		Purpose : 	Binary And
//		Author : 	Paul Robson (paul@robsons.org.uk)
//		Created : 	31st October 2019
//
// ******************************************************************************
// ******************************************************************************

// ******************************************************************************
//
//							R - Byte/Word Constant
//
// ******************************************************************************

B 	R&<const>
		and 	#<low>
		ldx 	#0

W 	R&<const>
		and 	#<low>
		pha
		txa
		and 	#<high>
		tax
		pla

// ******************************************************************************
//
//							    A - Byte Constant
//
// ******************************************************************************

B 	A&<const>
		and 	#<low>

// ******************************************************************************
//
//							R - Short/Integer Variable
//
// ******************************************************************************

I 	R&<var>
		and 	<addr>
		pha
		txa
		and 	<next>
		tax
		pla

S 	R&<var>
		and 	<addr>
		ldx 	#0

// ******************************************************************************
//
//							A - Short Variable
//
// ******************************************************************************

S 	A&<var>
		and 	<addr>

// ******************************************************************************
//
//							A - Indirect
//
// ******************************************************************************

I 		A & <var>[y]
		and 	(<addr>& $FF),y

I 		R & <var>[y]
		and 	(<addr>& $FF),y
		pha
		txa
		iny		
		and 	(<addr>& $FF),y
		dey
		tax
		pla
