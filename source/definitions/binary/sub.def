// ******************************************************************************
// ******************************************************************************
//
//		Name : 		sub.def
//		Purpose : 	Subtract binary
//		Author : 	Paul Robson (paul@robsons.org.uk)
//		Created : 	31st October 2019
//
// ******************************************************************************
// ******************************************************************************

// ******************************************************************************
//
//							R - Byte/Word Constant
//
// ******************************************************************************

B 	R-<const>
		sec
		sbc 	#<low>
		bcs 	*+3
		dex

W 	R-<const>
		sec
		sbc 	#<low>
		pha
		txa
		sbc 	#<high>
		tax
		pla

// ******************************************************************************
//
//							    A - Byte Constant
//
// ******************************************************************************

B 	A-<const>
		sec
		sbc 	#<low>

// ******************************************************************************
//
//							R - Short/Integer Variable
//
// ******************************************************************************

I 	R-<var>
		sec
		sbc 	<addr>
		pha
		txa
		sbc 	<next>
		tax
		pla

S 	R-<var>
		sec
		sbc 	<addr>
		bcs 	*+3
		dex

// ******************************************************************************
//
//							A - Short Variable
//
// ******************************************************************************

S 	A-<var>
		sec
		sbc 	<addr>

// ******************************************************************************
//
//							A - Indirect
//
// ******************************************************************************

Z 		A - <var>[y]
		sec
		sbc 	(<addr>),y

Z 		R - <var>[y]
		sec
		sbc 	(<addr>),y
		pha
		txa
		iny		
		sbc 	(<addr>),y
		dey
		tax
		pla
